<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Odin Dev Toolkit</title>
  <meta name="description" content="Odin Dev Toolkit: Regex Tester, QR Code Engine, JSON/XML Formatter, Password Guard, and Multi-Language Model Generator. 100% client-side, offline-ready.">
  <meta name="keywords" content="developer tools, regex tester, qr code generator, json formatter, xml formatter, password generator, model generator, odin">
  <meta name="author" content="Odin Dev Toolkit">
  <meta name="theme-color" content="#020617">

  <!-- Open Graph -->
  <meta property="og:title" content="Odin Dev Toolkit">
  <meta property="og:description" content="Developer utility suite — 5 essential tools, 100% client-side.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="icons/icon-odin.png">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icons/icon-odin.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-odin.png">

  <!-- Tailwind CSS (Play CDN — local) -->
  <script src="vendor/tailwindcss.js"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            valhalla: {
              950: '#020617',
              900: '#0f172a',
              800: '#1e293b',
              700: '#334155',
              600: '#475569',
            },
            gold: {
              400: '#facc15',
              500: '#eab308',
              600: '#ca8a04',
            },
            crimson: {
              500: '#ef4444',
              600: '#dc2626',
              700: '#b91c1c',
            }
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['JetBrains Mono', 'Fira Code', 'monospace'],
          }
        }
      }
    }
  </script>

  <!-- Prism CSS -->
  <link rel="stylesheet" href="vendor/prism.css">

  <!-- Valhalla Theme -->
  <link rel="stylesheet" href="css/valhalla.css">
</head>

<body class="h-full bg-valhalla-950 text-slate-200 font-sans bg-grid dark" x-data="odinApp()" x-init="init()">

  <!-- ============================================================
       MOBILE SIDEBAR OVERLAY
       ============================================================ -->
  <div
    x-show="sidebarOpen"
    x-transition:enter="transition-opacity ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition-opacity ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="sidebar-overlay lg:hidden"
    @click="sidebarOpen = false"
  ></div>

  <!-- ============================================================
       SIDEBAR NAVIGATION
       ============================================================ -->
  <aside
    :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'"
    class="fixed inset-y-0 left-0 z-50 w-64 sidebar flex flex-col transition-transform duration-300 ease-in-out"
  >
    <!-- Logo -->
    <div class="flex items-center gap-3 px-5 py-5 border-b border-slate-800/50">
      <div class="w-9 h-9 rounded-lg overflow-hidden flex items-center justify-center">
        <img src="icons/icon-odin.png" alt="Odin" class="w-9 h-9 object-cover">
      </div>
      <div>
        <h1 class="text-sm font-bold text-gold-400 tracking-wide">ODIN</h1>
        <p class="text-[10px] text-slate-500 tracking-widest uppercase">Dev Toolkit</p>
      </div>
    </div>

    <!-- Nav Links -->
    <nav class="flex-1 py-4 px-3 space-y-1" role="tablist" aria-label="Tool navigation">
      <button
        @click="switchTool('regex')"
        :class="activeTool === 'regex' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'regex'"
        aria-label="Regex Tester (Ctrl+1)"
      >
        <i data-lucide="regex" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Regex Tester</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃1</kbd>
      </button>

      <button
        @click="switchTool('qr')"
        :class="activeTool === 'qr' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'qr'"
        aria-label="QR Code Engine (Ctrl+2)"
      >
        <i data-lucide="qr-code" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>QR Code Engine</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃2</kbd>
      </button>

      <button
        @click="switchTool('json')"
        :class="activeTool === 'json' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'json'"
        aria-label="JSON Formatter (Ctrl+3)"
      >
        <i data-lucide="braces" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>JSON Pro Formatter</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃3</kbd>
      </button>

      <button
        @click="switchTool('password')"
        :class="activeTool === 'password' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'password'"
        aria-label="Password Guard (Ctrl+5)"
      >
        <i data-lucide="shield-check" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Password Guard</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃5</kbd>
      </button>

      <button
        @click="switchTool('xml')"
        :class="activeTool === 'xml' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'xml'"
        aria-label="XML Formatter (Ctrl+4)"
      >
        <i data-lucide="file-code" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>XML Formatter</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃4</kbd>
      </button>

      <button
        @click="switchTool('modelgen')"
        :class="activeTool === 'modelgen' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'modelgen'"
        aria-label="Model Generator (Ctrl+6)"
      >
        <i data-lucide="file-code-2" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Model Generator</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃6</kbd>
      </button>
    </nav>

    <!-- Sidebar Footer -->
    <div class="px-5 py-4 border-t border-slate-800/50">
      <p class="text-[10px] text-slate-600 text-center">100% Client-Side &bull; Offline Ready</p>
    </div>
  </aside>

  <!-- ============================================================
       MAIN CONTENT
       ============================================================ -->
  <main class="lg:pl-64 min-h-screen">

    <!-- Top Bar (Mobile) -->
    <header class="lg:hidden sticky top-0 z-30 glass-strong px-4 py-3 flex items-center gap-3">
      <button @click="sidebarOpen = !sidebarOpen" class="p-1.5 rounded-lg hover:bg-slate-800 transition" aria-label="Toggle sidebar">
        <i data-lucide="menu" class="w-5 h-5"></i>
      </button>
      <h2 class="text-sm font-semibold text-gold-400">Odin Dev Toolkit</h2>
    </header>

    <div class="p-4 sm:p-6 lg:p-8">

      <!-- ============================================================
           TOOL 1: REGEX TESTER
           ============================================================ -->
      <section
        x-show="activeTool === 'regex'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="regex" class="w-6 h-6 text-gold-500"></i>
            Regex Tester
          </h2>
          <p class="text-sm text-slate-400 mt-1">Real-time matching with color-coded groups</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Left Column: Input -->
          <div class="space-y-4">
            <!-- Pattern Input -->
            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Pattern</label>
                <!-- Common Patterns Dropdown -->
                <div class="relative">
                  <button
                    @click="showPatterns = !showPatterns"
                    class="btn-outline text-xs py-1 px-2.5 flex items-center gap-1"
                  >
                    <i data-lucide="book-open" class="w-3 h-3"></i>
                    Common Patterns
                    <i data-lucide="chevron-down" class="w-3 h-3"></i>
                  </button>
                  <div
                    x-show="showPatterns"
                    @click.outside="showPatterns = false"
                    x-transition
                    class="absolute right-0 top-full mt-1 w-72 glass-strong rounded-lg shadow-xl z-20 patterns-dropdown p-2"
                  >
                    <template x-for="p in commonPatterns" :key="p.name">
                      <div
                        @click="selectPattern(p)"
                        class="pattern-item"
                      >
                        <div class="text-sm text-slate-200 font-medium" x-text="p.name"></div>
                        <div class="text-xs text-slate-500 font-mono truncate" x-text="p.pattern"></div>
                      </div>
                    </template>
                  </div>
                </div>
              </div>
              <input
                type="text"
                x-model="regexPattern"
                @input.debounce.150ms="runRegex()"
                class="input-valhalla font-mono text-sm"
                placeholder="Enter regex pattern..."
                spellcheck="false"
              >
            </div>

            <!-- Flags -->
            <div class="flex items-center gap-4">
              <span class="text-sm text-slate-400">Flags:</span>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagG" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagG ? 'text-gold-400' : 'text-slate-500'">g</span>
              </label>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagI" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagI ? 'text-gold-400' : 'text-slate-500'">i</span>
              </label>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagM" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagM ? 'text-gold-400' : 'text-slate-500'">m</span>
              </label>
            </div>

            <!-- Test String -->
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Test String</label>
              <textarea
                x-model="regexTestString"
                @input.debounce.150ms="runRegex()"
                class="textarea-valhalla code-input h-48"
                placeholder="Enter test string..."
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <!-- Right Column: Results -->
          <div class="space-y-4">
            <!-- Error or Match Count -->
            <div class="flex items-center gap-2 min-h-[2rem]">
              <template x-if="regexResult.error">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="regexResult.error"></span>
                </div>
              </template>
              <template x-if="!regexResult.error && regexPattern">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="regexResult.matchCount + ' match' + (regexResult.matchCount !== 1 ? 'es' : '') + ' found'"></span>
                </div>
              </template>
            </div>

            <!-- Highlighted Output -->
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Highlighted Matches</label>
              <div class="bg-slate-900/80 border border-slate-700 rounded-lg p-4 min-h-[12rem] max-h-[20rem] overflow-auto font-mono text-sm leading-relaxed whitespace-pre-wrap break-words">
                <template x-if="!regexResult.html"><span class="text-slate-600 italic">Results will appear here...</span></template>
                <span x-show="regexResult.html" x-html="regexResult.html"></span>
              </div>
            </div>

            <!-- Match Details -->
            <template x-if="regexResult.matches.length > 0">
              <div>
                <label class="block text-sm font-medium text-slate-300 mb-2">Match Details</label>
                <div class="space-y-2 max-h-48 overflow-auto">
                  <template x-for="(m, idx) in regexResult.matches" :key="idx">
                    <div class="glass rounded-lg px-3 py-2 text-xs font-mono">
                      <div class="flex items-center gap-2">
                        <span class="text-gold-400 font-semibold" x-text="'#' + (idx + 1)"></span>
                        <span class="text-slate-200" x-text="m.fullMatch"></span>
                        <span class="text-slate-600" x-text="'@' + m.index"></span>
                      </div>
                      <template x-if="m.groups.length > 0">
                        <div class="mt-1 flex flex-wrap gap-2">
                          <template x-for="(g, gi) in m.groups" :key="gi">
                            <span class="bg-slate-800 px-1.5 py-0.5 rounded text-[11px]">
                              <span class="text-slate-500" x-text="'$' + (gi + 1) + ':'"></span>
                              <span class="text-sky-400" x-text="g || '(empty)'"></span>
                            </span>
                          </template>
                        </div>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
            </template>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 2: QR CODE ENGINE
           ============================================================ -->
      <section
        x-show="activeTool === 'qr'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="qr-code" class="w-6 h-6 text-gold-500"></i>
            QR Code Engine
          </h2>
          <p class="text-sm text-slate-400 mt-1">Generate QR codes instantly and download as PNG</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
          <!-- Controls -->
          <div class="space-y-5">
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Data / URL</label>
              <textarea
                x-model="qrText"
                @input.debounce.300ms="generateQR()"
                class="textarea-valhalla h-28"
                placeholder="Enter text, URL, or any data..."
              ></textarea>
            </div>

            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Size</label>
                <span class="text-sm font-mono text-gold-400" x-text="qrSize + 'px'"></span>
              </div>
              <input
                type="range"
                x-model="qrSize"
                @input.debounce.200ms="generateQR()"
                min="100" max="500" step="10"
                class="slider-gold"
              >
              <div class="flex justify-between text-xs text-slate-600 mt-1">
                <span>100px</span>
                <span>500px</span>
              </div>
            </div>

            <div class="flex gap-3">
              <button @click="downloadQR()" class="btn-gold flex items-center gap-2">
                <i data-lucide="download" class="w-4 h-4"></i>
                Download PNG
              </button>
              <button @click="qrText = ''; generateQR()" class="btn-outline flex items-center gap-2">
                <i data-lucide="trash-2" class="w-4 h-4"></i>
                Clear
              </button>
            </div>
          </div>

          <!-- QR Preview -->
          <div class="flex flex-col items-center gap-4">
            <div class="glass rounded-xl p-6 w-full flex items-center justify-center min-h-[300px]">
              <div id="qr-preview" class="qr-container rounded-lg" :style="qrText ? 'padding: 1rem; background: white;' : 'background: transparent;'">
                <template x-if="!qrText">
                  <div class="text-slate-600 text-sm flex flex-col items-center gap-2">
                    <i data-lucide="qr-code" class="w-12 h-12 text-slate-700"></i>
                    <span>Enter data to generate QR code</span>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 3: JSON PRO FORMATTER
           ============================================================ -->
      <section
        x-show="activeTool === 'json'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <div class="flex items-start justify-between flex-wrap gap-3">
            <div>
              <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                <i data-lucide="braces" class="w-6 h-6 text-gold-500"></i>
                JSON Pro Formatter
              </h2>
              <p class="text-sm text-slate-400 mt-1">Beautify, minify, and validate JSON with instant feedback</p>
            </div>

            <!-- Validation Badge -->
            <div class="flex items-center gap-2">
              <template x-if="jsonValidation.valid === true">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  Valid JSON
                </div>
              </template>
              <template x-if="jsonValidation.valid === false">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="jsonValidation.error ? (jsonValidation.error.line ? 'Error at line ' + jsonValidation.error.line + ': ' : '') + jsonValidation.error.message : 'Invalid JSON'"></span>
                </div>
              </template>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-2 mb-4">
          <button @click="beautifyJson()" class="btn-gold flex items-center gap-1.5 text-sm">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            Beautify
          </button>
          <button @click="minifyJson()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="minimize-2" class="w-4 h-4"></i>
            Minify
          </button>
          <button @click="copyJson()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="copy" class="w-4 h-4"></i>
            Copy
          </button>
          <button @click="jsonInput = ''; jsonOutput = ''; jsonOutputHtml = ''; jsonValidation = { valid: null, error: null }; $nextTick(() => { syncJsonLineNumbers(); syncJsonOutputLineNumbers(); })" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
            Clear
          </button>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-4">
          <!-- Input -->
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="jsonGutter" class="json-gutter" x-text="getJsonLineNumbers()"></pre>
              <textarea
                x-ref="jsonInput"
                x-model="jsonInput"
                @input="syncJsonLineNumbers()"
                @input.debounce.300ms="validateJson()"
                @scroll="syncJsonLineNumbers()"
                class="textarea-valhalla code-input json-input h-[28rem]"
                placeholder='{"key": "value"}'
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <!-- Output -->
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Formatted Output</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="jsonOutputGutter" class="json-gutter" x-text="getJsonOutputLineNumbers()"></pre>
              <div x-ref="jsonOutputPane" @scroll="syncJsonOutputLineNumbers()" class="code-output json-output-pane h-[28rem] overflow-auto">
                <template x-if="!jsonOutputHtml">
                  <p class="text-slate-600 italic text-sm">Output appears after Beautify or Minify...</p>
                </template>
                <template x-if="jsonOutputHtml">
                  <pre class="m-0 bg-transparent"><code x-html="jsonOutputHtml"></code></pre>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 4: XML FORMATTER
           ============================================================ -->
      <section
        x-show="activeTool === 'xml'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <div class="flex items-start justify-between flex-wrap gap-3">
            <div>
              <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                <i data-lucide="file-code" class="w-6 h-6 text-gold-500"></i>
                XML Formatter
              </h2>
              <p class="text-sm text-slate-400 mt-1">Beautify, minify, and validate XML with instant feedback</p>
            </div>

            <div class="flex items-center gap-2">
              <template x-if="xmlValidation.valid === true">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  Valid XML
                </div>
              </template>
              <template x-if="xmlValidation.valid === false">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="xmlValidation.error ? (xmlValidation.error.line ? 'Error at line ' + xmlValidation.error.line + ': ' : '') + xmlValidation.error.message : 'Invalid XML'"></span>
                </div>
              </template>
            </div>
          </div>
        </div>

        <div class="flex flex-wrap gap-2 mb-4">
          <button @click="beautifyXml()" class="btn-gold flex items-center gap-1.5 text-sm">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            Beautify
          </button>
          <button @click="minifyXml()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="minimize-2" class="w-4 h-4"></i>
            Minify
          </button>
          <button @click="copyXml()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="copy" class="w-4 h-4"></i>
            Copy
          </button>
          <button @click="xmlInput = ''; xmlOutput = ''; xmlOutputHtml = ''; xmlValidation = { valid: null, error: null }; $nextTick(() => { syncXmlLineNumbers(); syncXmlOutputLineNumbers(); })" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
            Clear
          </button>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="xmlGutter" class="json-gutter" x-text="getXmlLineNumbers()"></pre>
              <textarea
                x-ref="xmlInput"
                x-model="xmlInput"
                @input="syncXmlLineNumbers()"
                @input.debounce.300ms="validateXml()"
                @scroll="syncXmlLineNumbers()"
                class="textarea-valhalla code-input json-input h-[28rem]"
                placeholder='<root>\n  <item id="1">Odin</item>\n</root>'
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Formatted Output</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="xmlOutputGutter" class="json-gutter" x-text="getXmlOutputLineNumbers()"></pre>
              <div x-ref="xmlOutputPane" @scroll="syncXmlOutputLineNumbers()" class="code-output json-output-pane h-[28rem] overflow-auto">
                <template x-if="!xmlOutputHtml">
                  <p class="text-slate-600 italic text-sm">Output appears after Beautify or Minify...</p>
                </template>
                <template x-if="xmlOutputHtml">
                  <pre class="m-0 bg-transparent"><code x-html="xmlOutputHtml"></code></pre>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 5: ODIN PASSWORD GUARD
           ============================================================ -->
      <section
        x-show="activeTool === 'password'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="shield-check" class="w-6 h-6 text-gold-500"></i>
            Odin Password Guard
          </h2>
          <p class="text-sm text-slate-400 mt-1">Cryptographically secure password generation with entropy analysis</p>
        </div>

        <div class="max-w-2xl space-y-6">
          <!-- Generated Password -->
          <div class="glass rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <div class="password-display flex-1" x-text="pwResult.password || 'Click Generate...'"></div>
              <button @click="copyPassword()" class="btn-gold flex-shrink-0 flex items-center gap-1.5 py-2.5" title="Copy password">
                <i data-lucide="copy" class="w-4 h-4"></i>
                Copy
              </button>
            </div>

            <!-- Entropy Bar -->
            <div class="space-y-2">
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">Entropy</span>
                <span :class="pwResult.strength.color" class="font-semibold" x-text="pwResult.strength.label + ' (' + pwResult.entropy + ' bits)'"></span>
              </div>
              <div class="entropy-bar-bg">
                <div
                  class="entropy-bar-fill"
                  :style="'width: ' + getEntropyWidth() + '; background: ' + getEntropyColor()"
                ></div>
              </div>
            </div>
          </div>

          <!-- Controls -->
          <div class="glass rounded-xl p-5 space-y-5">
            <!-- Length Slider -->
            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Password Length</label>
                <span class="text-sm font-mono text-gold-400 bg-slate-800 px-2 py-0.5 rounded" x-text="pwLength"></span>
              </div>
              <input
                type="range"
                x-model="pwLength"
                @input="generatePassword()"
                min="4" max="128" step="1"
                class="slider-gold"
              >
              <div class="flex justify-between text-xs text-slate-600 mt-1">
                <span>4</span>
                <span>128</span>
              </div>
            </div>

            <!-- Character Toggles -->
            <div class="grid grid-cols-2 gap-3">
              <!-- Lowercase -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwLowercase = !pwLowercase; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Lowercase</div>
                  <div class="text-xs text-slate-500 font-mono">a-z</div>
                </div>
                <div class="toggle-track" :class="pwLowercase ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Uppercase -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwUppercase = !pwUppercase; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Uppercase</div>
                  <div class="text-xs text-slate-500 font-mono">A-Z</div>
                </div>
                <div class="toggle-track" :class="pwUppercase ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Numbers -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwNumbers = !pwNumbers; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Numbers</div>
                  <div class="text-xs text-slate-500 font-mono">0-9</div>
                </div>
                <div class="toggle-track" :class="pwNumbers ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Symbols -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwSymbols = !pwSymbols; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Symbols</div>
                  <div class="text-xs text-slate-500 font-mono">!@#$%...</div>
                </div>
                <div class="toggle-track" :class="pwSymbols ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>
            </div>

            <!-- Generate Button -->
            <button @click="generatePassword()" class="btn-gold w-full flex items-center justify-center gap-2 py-3 text-base">
              <i data-lucide="refresh-cw" class="w-5 h-5"></i>
              Generate New Password
            </button>
          </div>

          <!-- Stats -->
          <div class="grid grid-cols-3 gap-3">
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwResult.poolSize"></div>
              <div class="text-xs text-slate-500">Pool Size</div>
            </div>
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwLength"></div>
              <div class="text-xs text-slate-500">Length</div>
            </div>
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwResult.entropy + ' bits'"></div>
              <div class="text-xs text-slate-500">Entropy</div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 5: MULTI-LANGUAGE MODEL GENERATOR
           ============================================================ -->
      <section
        x-show="activeTool === 'modelgen'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="file-code-2" class="w-6 h-6 text-gold-500"></i>
            Multi-Language Model Generator
          </h2>
          <p class="text-sm text-slate-400 mt-1">Convert JSON to C# classes, Go structs, and Python dataclasses</p>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-6">
          <!-- JSON Input -->
          <div>
            <div class="flex items-center justify-between mb-2">
              <label class="text-sm font-medium text-slate-300">Input JSON</label>
              <button
                @click="modelJsonInput = JSON.stringify({id:1,name:'Odin',email:'odin@valhalla.com',created_at:'2024-01-15T10:30:00',is_active:true,score:98.5,address:{street:'Bifrost Bridge',city:'Asgard',zip_code:'00001'},tags:['developer','toolkit'],items:[{product_name:'Mjolnir',price:999.99,quantity:1}]}, null, 2); generateModels()"
                class="btn-outline text-xs py-1 px-2"
              >
                Load Example
              </button>
            </div>
            <textarea
              x-model="modelJsonInput"
              @input.debounce.400ms="generateModels()"
              class="textarea-valhalla code-input h-[26rem]"
              placeholder='Paste your JSON here...

Example:
{
  "id": 1,
  "name": "Odin",
  "is_active": true
}'
              spellcheck="false"
            ></textarea>

            <!-- C# Options -->
            <div class="mt-3 glass rounded-lg p-3 space-y-2">
              <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider">C# Options</p>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="csUseJsonPropertyName = !csUseJsonPropertyName; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="csUseJsonPropertyName ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300">Use <code class="text-gold-400 text-xs">[JsonPropertyName]</code> <span class="text-slate-500 text-xs">(System.Text.Json)</span></span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="csUseNullable = !csUseNullable; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="csUseNullable ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300">Nullable reference types <span class="text-slate-500 text-xs">(e.g. string?)</span></span>
              </label>
            </div>
          </div>

          <!-- Output -->
          <div>
            <!-- Language Tabs -->
            <div class="flex items-center border-b border-slate-800 mb-0">
              <button
                @click="modelActiveTab = 'csharp'"
                :class="modelActiveTab === 'csharp' ? 'active' : ''"
                class="tab-btn"
              >C#</button>
              <button
                @click="modelActiveTab = 'go'"
                :class="modelActiveTab === 'go' ? 'active' : ''"
                class="tab-btn"
              >Go</button>
              <button
                @click="modelActiveTab = 'python'"
                :class="modelActiveTab === 'python' ? 'active' : ''"
                class="tab-btn"
              >Python</button>

              <!-- Copy Button -->
              <button @click="copyModelOutput()" class="ml-auto btn-outline text-xs py-1 px-2.5 flex items-center gap-1">
                <i data-lucide="copy" class="w-3 h-3"></i>
                Copy
              </button>
            </div>

            <!-- C# Output -->
            <div x-show="modelActiveTab === 'csharp'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.csharp"><p class="text-slate-600 italic text-sm">Generated C# code will appear here...</p></template>
              <template x-if="modelOutputHtml.csharp"><pre class="m-0 bg-transparent"><code class="language-csharp" x-html="modelOutputHtml.csharp"></code></pre></template>
            </div>

            <!-- Go Output -->
            <div x-show="modelActiveTab === 'go'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.go"><p class="text-slate-600 italic text-sm">Generated Go code will appear here...</p></template>
              <template x-if="modelOutputHtml.go"><pre class="m-0 bg-transparent"><code class="language-go" x-html="modelOutputHtml.go"></code></pre></template>
            </div>

            <!-- Python Output -->
            <div x-show="modelActiveTab === 'python'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.python"><p class="text-slate-600 italic text-sm">Generated Python code will appear here...</p></template>
              <template x-if="modelOutputHtml.python"><pre class="m-0 bg-transparent"><code class="language-python" x-html="modelOutputHtml.python"></code></pre></template>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- ============================================================
       TOAST NOTIFICATION
       ============================================================ -->
  <div class="toast-container">
    <div
      x-show="toast.visible"
      x-transition:enter="transition ease-out duration-300"
      x-transition:enter-start="opacity-0 translate-y-2 scale-95"
      x-transition:enter-end="opacity-100 translate-y-0 scale-100"
      x-transition:leave="transition ease-in duration-200"
      x-transition:leave-start="opacity-100 translate-y-0 scale-100"
      x-transition:leave-end="opacity-0 translate-y-2 scale-95"
      class="toast"
    >
      <i data-lucide="check" class="w-4 h-4"></i>
      <span x-text="toast.message"></span>
    </div>
  </div>

  <!-- ============================================================
       SCRIPTS
       ============================================================ -->
  <!-- QR Code Library -->
  <script src="vendor/qrcode.min.js"></script>

  <!-- Prism.js (Syntax Highlighting) -->
  <script src="vendor/prism.js" data-manual></script>
  <script src="vendor/prism-json.min.js"></script>
  <script src="vendor/prism-csharp.min.js"></script>
  <script src="vendor/prism-go.min.js"></script>
  <script src="vendor/prism-python.min.js"></script>

  <!-- Lucide Icons -->
  <script src="vendor/lucide.min.js"></script>

  <!-- Odin Core Logic -->
  <script src="js/odin.js"></script>

  <!-- Alpine.js (must be last) -->
  <script defer src="vendor/alpine.min.js"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('⚡ Odin SW registered:', reg.scope))
          .catch(err => console.warn('SW registration failed:', err));
      });
    }
  </script>
</body>
</html>
