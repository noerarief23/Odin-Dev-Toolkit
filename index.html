<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Odin Dev Toolkit</title>
  <meta name="description" content="Odin Dev Toolkit: 13 developer tools — Pomodoro Timer, Regex Tester, QR Code, JSON/XML Formatter, Diff Checker, Password Guard, Model Generator, JWT Explorer, Image Shrink, Case Converter, Flex/Grid Lab, Base64 Codec. 100% client-side, offline-ready.">
  <meta name="keywords" content="developer tools, pomodoro timer, focus timer, regex tester, qr code generator, json formatter, xml formatter, diff checker, password generator, model generator, odin">
  <meta name="author" content="Odin Dev Toolkit">
  <meta name="theme-color" content="#020617">

  <!-- Open Graph -->
  <meta property="og:title" content="Odin Dev Toolkit">
  <meta property="og:description" content="Developer utility suite — 13 essential developer tools, 100% client-side.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="icons/icon-odin.png">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icons/icon-odin.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-odin.png">

  <!-- Tailwind CSS (Play CDN — local) -->
  <script src="vendor/tailwindcss.js"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            valhalla: {
              950: '#020617',
              900: '#0f172a',
              700: '#334155',
              600: '#475569',
            },
            gold: {
              400: '#facc15',
              500: '#eab308',
              600: '#ca8a04',
            },
            crimson: {
              500: '#ef4444',
              600: '#dc2626',
              700: '#b91c1c',
            }
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['JetBrains Mono', 'Fira Code', 'monospace'],
          }
        }
      }
    }
  </script>

  <!-- Prism CSS -->
  <link rel="stylesheet" href="vendor/prism.css">

  <!-- Valhalla Theme -->
  <link rel="stylesheet" href="css/valhalla.css">
</head>

<body class="h-full bg-valhalla-950 text-slate-200 font-sans bg-grid dark" x-data="odinApp()" x-init="init()">

  <!-- ============================================================
       MOBILE SIDEBAR OVERLAY
       ============================================================ -->
  <div
    x-show="sidebarOpen"
    x-transition:enter="transition-opacity ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition-opacity ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="sidebar-overlay lg:hidden"
    @click="sidebarOpen = false"
  ></div>

  <!-- ============================================================
       SIDEBAR NAVIGATION
       ============================================================ -->
  <aside
    :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'"
    class="fixed inset-y-0 left-0 z-50 w-64 sidebar flex flex-col transition-transform duration-300 ease-in-out"
  >
    <!-- Logo -->
    <div class="flex items-center gap-3 px-5 py-5 border-b border-slate-800/50">
      <div class="w-9 h-9 rounded-lg overflow-hidden flex items-center justify-center">
        <img src="icons/icon-odin.png" alt="Odin" class="w-9 h-9 object-cover">
      </div>
      <div>
        <h1 class="text-sm font-bold text-gold-400 tracking-wide">ODIN</h1>
        <p class="text-[10px] text-slate-500 tracking-widest uppercase">Dev Toolkit</p>
      </div>
    </div>

    <!-- Nav Links -->
    <nav class="flex-1 py-4 px-3 space-y-1" role="tablist" aria-label="Tool navigation">
      <button
        @click="switchTool('pomodoro')"
        :class="activeTool === 'pomodoro' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'pomodoro'"
        aria-label="Pomodoro Timer (Ctrl+1)"
      >
        <i data-lucide="timer" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Pomodoro Timer</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃1</kbd>
      </button>

      <button
        @click="switchTool('regex')"
        :class="activeTool === 'regex' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'regex'"
        aria-label="Regex Tester (Ctrl+2)"
      >
        <i data-lucide="regex" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Regex Tester</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃2</kbd>
      </button>

      <button
        @click="switchTool('qr')"
        :class="activeTool === 'qr' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'qr'"
        aria-label="QR Code Engine (Ctrl+3)"
      >
        <i data-lucide="qr-code" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>QR Code Engine</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃3</kbd>
      </button>

      <button
        @click="switchTool('json')"
        :class="activeTool === 'json' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'json'"
        aria-label="JSON Formatter (Ctrl+4)"
      >
        <i data-lucide="braces" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>JSON Formatter</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃4</kbd>
      </button>

      <button
        @click="switchTool('xml')"
        :class="activeTool === 'xml' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'xml'"
        aria-label="XML Formatter (Ctrl+5)"
      >
        <i data-lucide="file-code" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>XML Formatter</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃5</kbd>
      </button>

      <button
        @click="switchTool('diff')"
        :class="activeTool === 'diff' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'diff'"
        aria-label="Diff Checker (Ctrl+6)"
      >
        <i data-lucide="git-compare" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Diff Checker</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃6</kbd>
      </button>

      <button
        @click="switchTool('password')"
        :class="activeTool === 'password' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'password'"
        aria-label="Password Guard (Ctrl+7)"
      >
        <i data-lucide="shield-check" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Password Guard</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃7</kbd>
      </button>

      <button
        @click="switchTool('modelgen')"
        :class="activeTool === 'modelgen' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'modelgen'"
        aria-label="Model Generator (Ctrl+8)"
      >
        <i data-lucide="file-code-2" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Model Generator</span>
        <kbd class="ml-auto text-[10px] text-slate-600 hidden xl:inline">⌃8</kbd>
      </button>

      <!-- Divider -->
      <div class="my-2 border-t border-slate-800/40"></div>

      <button
        @click="switchTool('jwt')"
        :class="activeTool === 'jwt' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'jwt'"
        aria-label="JWT Explorer"
      >
        <i data-lucide="key" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>JWT Explorer</span>
      </button>

      <button
        @click="switchTool('imgshrink')"
        :class="activeTool === 'imgshrink' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'imgshrink'"
        aria-label="Image Shrink"
      >
        <i data-lucide="image-down" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Image Shrink</span>
      </button>

      <button
        @click="switchTool('caseconv')"
        :class="activeTool === 'caseconv' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'caseconv'"
        aria-label="Case Converter"
      >
        <i data-lucide="case-sensitive" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Case Converter</span>
      </button>

      <button
        @click="switchTool('flexgrid')"
        :class="activeTool === 'flexgrid' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'flexgrid'"
        aria-label="Flex/Grid Lab"
      >
        <i data-lucide="layout-grid" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Flex/Grid Lab</span>
      </button>

      <button
        @click="switchTool('base64')"
        :class="activeTool === 'base64' ? 'active' : ''"
        class="sidebar-link w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-400 hover:text-slate-200"
        role="tab"
        :aria-selected="activeTool === 'base64'"
        aria-label="Base64 Codec"
      >
        <i data-lucide="binary" class="link-icon w-4 h-4 flex-shrink-0"></i>
        <span>Base64 Codec</span>
      </button>
    </nav>

    <!-- Sidebar Footer -->
    <div class="px-5 py-4 border-t border-slate-800/50">
      <p class="text-[10px] text-slate-600 text-center">100% Client-Side &bull; Offline Ready</p>
    </div>
  </aside>

  <!-- ============================================================
       MAIN CONTENT
       ============================================================ -->
  <main class="lg:pl-64 min-h-screen">

    <!-- Top Bar (Mobile) -->
    <header class="lg:hidden sticky top-0 z-30 glass-strong px-4 py-3 flex items-center gap-3">
      <button @click="sidebarOpen = !sidebarOpen" class="p-1.5 rounded-lg hover:bg-slate-800 transition" aria-label="Toggle sidebar">
        <i data-lucide="menu" class="w-5 h-5"></i>
      </button>
      <h2 class="text-sm font-semibold text-gold-400">Odin Dev Toolkit</h2>
    </header>

    <div class="p-4 sm:p-6 lg:p-8">

      <!-- ============================================================
           TOOL 1: POMODORO TIMER
           ============================================================ -->
      <section
        x-show="activeTool === 'pomodoro'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <!-- Header -->
        <div class="mb-6 flex items-start justify-between">
          <div>
            <h2 class="text-2xl font-bold text-white flex items-center gap-2">
              <i data-lucide="timer" class="w-6 h-6 text-gold-500"></i>
              Pomodoro Timer
            </h2>
            <p class="text-sm text-slate-400 mt-1">Focus timer using the Pomodoro Technique — stay productive, one session at a time.</p>
          </div>
          <button
            @click="pomoOpenSettings()"
            class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors"
            title="Timer Settings"
          >
            <i data-lucide="settings" class="w-5 h-5"></i>
          </button>
        </div>

        <!-- Duration Settings Modal -->
        <div
          x-show="pomoShowSettings"
          x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0"
          x-transition:enter-end="opacity-100"
          x-transition:leave="transition ease-in duration-150"
          x-transition:leave-start="opacity-100"
          x-transition:leave-end="opacity-0"
          class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"
          @click.self="pomoShowSettings = false"
          @keydown.escape.window="pomoShowSettings = false"
        >
          <div class="glass-strong rounded-2xl p-6 w-full max-w-sm mx-4 shadow-xl">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
              <i data-lucide="clock" class="w-5 h-5 text-gold-500"></i>
              Timer Durations
            </h3>
            <div class="space-y-4">
              <div>
                <label class="text-xs text-slate-400 uppercase tracking-wider block mb-1">Focus (minutes)</label>
                <input type="number" x-model.number="pomoSettingFocus" min="1" max="120"
                  class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:border-gold-500 focus:outline-none">
              </div>
              <div>
                <label class="text-xs text-slate-400 uppercase tracking-wider block mb-1">Short Break (minutes)</label>
                <input type="number" x-model.number="pomoSettingShort" min="1" max="120"
                  class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:border-emerald-400 focus:outline-none">
              </div>
              <div>
                <label class="text-xs text-slate-400 uppercase tracking-wider block mb-1">Long Break (minutes)</label>
                <input type="number" x-model.number="pomoSettingLong" min="1" max="120"
                  class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:border-sky-400 focus:outline-none">
              </div>
            </div>
            <div class="flex items-center justify-between mt-6">
              <button @click="pomoResetSettings()" class="text-xs text-slate-500 hover:text-slate-300 transition-colors">
                Reset to defaults
              </button>
              <div class="flex gap-2">
                <button @click="pomoShowSettings = false" class="px-4 py-2 text-sm rounded-lg text-slate-400 hover:text-white transition-colors">
                  Cancel
                </button>
                <button @click="pomoSaveSettings()" class="px-4 py-2 text-sm rounded-lg bg-gold-500 text-black font-medium hover:bg-gold-400 transition-colors">
                  Save
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Mode Tabs -->
        <div class="flex flex-wrap gap-2 mb-8">
          <button
            @click="pomoSwitchMode('focus')"
            class="pomo-mode-btn"
            :class="pomoMode === 'focus' ? 'active-focus' : ''"
          >
            <span class="flex items-center gap-1.5">
              <i data-lucide="brain" class="w-4 h-4"></i>
              Focus
            </span>
          </button>
          <button
            @click="pomoSwitchMode('short')"
            class="pomo-mode-btn"
            :class="pomoMode === 'short' ? 'active-short' : ''"
          >
            <span class="flex items-center gap-1.5">
              <i data-lucide="coffee" class="w-4 h-4"></i>
              Short Break
            </span>
          </button>
          <button
            @click="pomoSwitchMode('long')"
            class="pomo-mode-btn"
            :class="pomoMode === 'long' ? 'active-long' : ''"
          >
            <span class="flex items-center gap-1.5">
              <i data-lucide="sunset" class="w-4 h-4"></i>
              Long Break
            </span>
          </button>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Timer Display (Center / Main) -->
          <div class="lg:col-span-2 flex justify-center">
            <div
              class="glass-strong rounded-2xl p-8 sm:p-12 flex flex-col items-center gap-6 w-full max-w-lg transition-shadow duration-500"
              :class="{
                'pomo-glow-focus': pomoMode === 'focus',
                'pomo-glow-short': pomoMode === 'short',
                'pomo-glow-long':  pomoMode === 'long'
              }"
            >
              <!-- SVG Progress Ring -->
              <div class="relative flex items-center justify-center">
                <svg width="240" height="240" viewBox="0 0 240 240" class="transform -rotate-90">
                  <!-- Background track -->
                  <circle
                    class="pomo-ring-bg"
                    cx="120" cy="120" r="108"
                    stroke-width="8"
                    fill="none"
                  />
                  <!-- Progress arc -->
                  <circle
                    class="pomo-ring"
                    :class="{
                      'pomo-ring-focus': pomoMode === 'focus',
                      'pomo-ring-short': pomoMode === 'short',
                      'pomo-ring-long':  pomoMode === 'long',
                      'pomo-pulse': pomoRunning && pomoTimeLeft <= 10
                    }"
                    cx="120" cy="120" r="108"
                    stroke-width="8"
                    fill="none"
                    stroke-linecap="round"
                    :stroke-dasharray="2 * Math.PI * 108"
                    :stroke-dashoffset="pomoDashOffset"
                  />
                </svg>

                <!-- Timer Text (overlaid) -->
                <div class="absolute inset-0 flex flex-col items-center justify-center">
                  <span
                    class="pomo-time text-5xl sm:text-6xl font-bold text-white"
                    :class="{
                      'text-gold-500':    pomoMode === 'focus'  && pomoRunning,
                      'text-emerald-400': pomoMode === 'short'  && pomoRunning,
                      'text-sky-400':     pomoMode === 'long'   && pomoRunning,
                      'pomo-pulse': pomoRunning && pomoTimeLeft <= 10
                    }"
                    x-text="pomoFormattedTime"
                  ></span>
                  <span class="text-xs text-slate-500 mt-1 uppercase tracking-widest" x-text="pomoModeLabel"></span>
                </div>
              </div>

              <!-- Plan/Task Input (Focus mode only) -->
              <div class="w-full max-w-md mt-2" x-show="pomoMode === 'focus'" x-transition>
                <label for="pomo-plan-input" class="text-[11px] text-slate-500 uppercase tracking-wider mb-1.5 block">
                  <i data-lucide="clipboard-list" class="w-3 h-3 inline -mt-0.5 mr-1"></i>
                  Session Plan
                </label>
                <input
                  id="pomo-plan-input"
                  type="text"
                  x-model="pomoTodoText"
                  class="pomo-session-input w-full"
                  placeholder="What will you work on this session?"
                  maxlength="200"
                  :disabled="pomoRunning"
                >
              </div>

              <!-- Controls -->
              <div class="flex items-center gap-3 mt-4">
                <!-- Start Button -->
                <button
                  x-show="!pomoRunning"
                  @click="pomoStart()"
                  class="pomo-ctrl-btn pomo-ctrl-start"
                >
                  <i data-lucide="play" class="w-4 h-4"></i>
                  <span x-text="pomoPaused ? 'Resume' : 'Start'"></span>
                </button>

                <!-- Pause Button -->
                <button
                  x-show="pomoRunning"
                  @click="pomoPause()"
                  class="pomo-ctrl-btn pomo-ctrl-pause"
                >
                  <i data-lucide="pause" class="w-4 h-4"></i>
                  Pause
                </button>

                <!-- Reset Button -->
                <button
                  @click="pomoReset()"
                  class="pomo-ctrl-btn pomo-ctrl-reset"
                  :disabled="pomoTimeLeft === pomoTotalTime && !pomoRunning"
                  :class="{ 'opacity-40 cursor-not-allowed': pomoTimeLeft === pomoTotalTime && !pomoRunning }"
                >
                  <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                  Reset
                </button>
              </div>
            </div>
          </div>

          <!-- Right Sidebar: Sessions & Log -->
          <div class="space-y-4">
            <!-- Daily Sessions Counter -->
            <div class="glass rounded-xl p-5 text-center">
              <div class="text-xs text-slate-500 uppercase tracking-wider mb-2">Sessions Today</div>
              <div class="pomo-session-count text-4xl font-bold text-gold-500" x-text="pomoDailySessions"></div>
              <div class="mt-3 flex items-center justify-center gap-1">
                <template x-for="i in Math.min(pomoDailySessions, 12)" :key="i">
                  <span class="w-2.5 h-2.5 rounded-full bg-gold-500 opacity-80"></span>
                </template>
                <template x-for="i in Math.max(0, Math.min(12, 12 - pomoDailySessions))" :key="'e'+i">
                  <span class="w-2.5 h-2.5 rounded-full bg-slate-700/50"></span>
                </template>
              </div>
            </div>

            <!-- Download Log -->
            <button
              @click="pomoDownloadLog()"
              class="btn-outline text-xs py-2 px-3 flex items-center gap-1.5 w-full justify-center"
              :disabled="pomoSessionLog.length === 0"
              :class="{ 'opacity-40 cursor-not-allowed': pomoSessionLog.length === 0 }"
            >
              <i data-lucide="download" class="w-3.5 h-3.5"></i>
              Download Daily Log
            </button>

            <!-- Notification Permission -->
            <div class="glass rounded-xl p-5">
              <div class="text-xs text-slate-500 uppercase tracking-wider mb-3">Notifications</div>
              <template x-if="pomoNotifGranted">
                <div class="flex items-center gap-2 text-sm text-emerald-400">
                  <i data-lucide="bell-ring" class="w-4 h-4"></i>
                  Notifications enabled
                </div>
              </template>
              <template x-if="!pomoNotifGranted">
                <button
                  @click="pomoRequestNotif()"
                  class="btn-outline text-xs py-1.5 px-3 flex items-center gap-1.5 w-full justify-center"
                >
                  <i data-lucide="bell" class="w-3.5 h-3.5"></i>
                  Enable Notifications
                </button>
              </template>
              <p class="text-[11px] text-slate-600 mt-2">Get alerted when timer ends, even in another tab.</p>
            </div>
          </div>
        </div>

        <!-- Session Log Table -->
        <div class="mt-8">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-sm font-semibold text-slate-300 flex items-center gap-2">
              <i data-lucide="scroll-text" class="w-4 h-4 text-gold-500"></i>
              Today's Session Log
              <span class="text-xs font-normal text-slate-600" x-text="'(' + pomoSessionLog.length + ')'"></span>
            </h3>
          </div>

          <!-- Empty state -->
          <template x-if="pomoSessionLog.length === 0">
            <div class="glass rounded-xl p-8 text-center">
              <i data-lucide="clock" class="w-10 h-10 text-slate-700 mx-auto mb-3"></i>
              <p class="text-slate-500 text-sm">No sessions logged today. Start a focus session to begin tracking!</p>
            </div>
          </template>

          <!-- Log entries -->
          <div class="space-y-2" x-show="pomoSessionLog.length > 0">
            <template x-for="(entry, idx) in [...pomoSessionLog].reverse()" :key="entry.id">
              <div class="pomo-log-item pomo-log-enter">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <span class="text-[11px] font-mono text-slate-500" x-text="'#' + (pomoSessionLog.length - idx)"></span>
                    <span class="text-[11px] font-mono text-slate-500" x-text="pomoFormatLogTime(entry.startedAt) + ' → ' + pomoFormatLogTime(entry.completedAt)"></span>
                    <span
                      class="text-[10px] font-semibold uppercase px-1.5 py-0.5 rounded-full"
                      :class="{
                        'bg-yellow-500/15 text-yellow-500': entry.mode === 'focus',
                        'bg-emerald-400/15 text-emerald-400': entry.mode === 'short',
                        'bg-sky-400/15 text-sky-400': entry.mode === 'long'
                      }"
                      x-text="entry.mode === 'focus' ? 'Focus' : entry.mode === 'short' ? 'Short' : 'Long'"
                    ></span>
                  </div>
                  <button
                    @click="pomoDeleteSession(entry.id)"
                    class="p-1 rounded-md text-slate-700 hover:text-crimson-500 hover:bg-red-500/10 transition-all"
                    title="Delete session"
                  >
                    <i data-lucide="x" class="w-3 h-3"></i>
                  </button>
                </div>
                <!-- Focus sessions: show plan & actual -->
                <template x-if="entry.mode === 'focus'">
                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1">
                    <div>
                      <span class="text-[10px] text-slate-600 uppercase">Plan</span>
                      <p class="text-xs text-slate-300 mt-0.5" x-text="entry.todo || '—'"></p>
                    </div>
                    <div>
                      <span class="text-[10px] text-slate-600 uppercase">Actual</span>
                      <p class="text-xs text-slate-300 mt-0.5" x-text="entry.actual || '—'"></p>
                    </div>
                  </div>
                </template>
              </div>
            </template>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 2: REGEX TESTER
           ============================================================ -->
      <section
        x-show="activeTool === 'regex'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="regex" class="w-6 h-6 text-gold-500"></i>
            Regex Tester
          </h2>
          <p class="text-sm text-slate-400 mt-1">Real-time matching with color-coded groups</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Left Column: Input -->
          <div class="space-y-4">
            <!-- Pattern Input -->
            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Pattern</label>
                <!-- Common Patterns Dropdown -->
                <div class="relative">
                  <button
                    @click="showPatterns = !showPatterns"
                    class="btn-outline text-xs py-1 px-2.5 flex items-center gap-1"
                  >
                    <i data-lucide="book-open" class="w-3 h-3"></i>
                    Common Patterns
                    <i data-lucide="chevron-down" class="w-3 h-3"></i>
                  </button>
                  <div
                    x-show="showPatterns"
                    @click.outside="showPatterns = false"
                    x-transition
                    class="absolute right-0 top-full mt-1 w-72 glass-strong rounded-lg shadow-xl z-20 patterns-dropdown p-2"
                  >
                    <template x-for="p in commonPatterns" :key="p.name">
                      <div
                        @click="selectPattern(p)"
                        class="pattern-item"
                      >
                        <div class="text-sm text-slate-200 font-medium" x-text="p.name"></div>
                        <div class="text-xs text-slate-500 font-mono truncate" x-text="p.pattern"></div>
                      </div>
                    </template>
                  </div>
                </div>
              </div>
              <input
                type="text"
                x-model="regexPattern"
                @input.debounce.150ms="runRegex()"
                class="input-valhalla font-mono text-sm"
                placeholder="Enter regex pattern..."
                spellcheck="false"
              >
            </div>

            <!-- Flags -->
            <div class="flex items-center gap-4">
              <span class="text-sm text-slate-400">Flags:</span>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagG" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagG ? 'text-gold-400' : 'text-slate-500'">g</span>
              </label>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagI" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagI ? 'text-gold-400' : 'text-slate-500'">i</span>
              </label>
              <label class="flex items-center gap-1.5 cursor-pointer">
                <input type="checkbox" x-model="regexFlagM" @change="runRegex()" class="w-4 h-4 rounded border-slate-600 text-gold-500 focus:ring-gold-500 bg-slate-800">
                <span class="text-sm font-mono" :class="regexFlagM ? 'text-gold-400' : 'text-slate-500'">m</span>
              </label>
            </div>

            <!-- Test String -->
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Test String</label>
              <textarea
                x-model="regexTestString"
                @input.debounce.150ms="runRegex()"
                class="textarea-valhalla code-input h-48"
                placeholder="Enter test string..."
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <!-- Right Column: Results -->
          <div class="space-y-4">
            <!-- Error or Match Count -->
            <div class="flex items-center gap-2 min-h-[2rem]">
              <template x-if="regexResult.error">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="regexResult.error"></span>
                </div>
              </template>
              <template x-if="!regexResult.error && regexPattern">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="regexResult.matchCount + ' match' + (regexResult.matchCount !== 1 ? 'es' : '') + ' found'"></span>
                </div>
              </template>
            </div>

            <!-- Highlighted Output -->
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Highlighted Matches</label>
              <div class="bg-slate-900/80 border border-slate-700 rounded-lg p-4 min-h-[12rem] max-h-[20rem] overflow-auto font-mono text-sm leading-relaxed whitespace-pre-wrap break-words">
                <template x-if="!regexResult.html"><span class="text-slate-600 italic">Results will appear here...</span></template>
                <span x-show="regexResult.html" x-html="regexResult.html"></span>
              </div>
            </div>

            <!-- Match Details -->
            <template x-if="regexResult.matches.length > 0">
              <div>
                <label class="block text-sm font-medium text-slate-300 mb-2">Match Details</label>
                <div class="space-y-2 max-h-48 overflow-auto">
                  <template x-for="(m, idx) in regexResult.matches" :key="idx">
                    <div class="glass rounded-lg px-3 py-2 text-xs font-mono">
                      <div class="flex items-center gap-2">
                        <span class="text-gold-400 font-semibold" x-text="'#' + (idx + 1)"></span>
                        <span class="text-slate-200" x-text="m.fullMatch"></span>
                        <span class="text-slate-600" x-text="'@' + m.index"></span>
                      </div>
                      <template x-if="m.groups.length > 0">
                        <div class="mt-1 flex flex-wrap gap-2">
                          <template x-for="(g, gi) in m.groups" :key="gi">
                            <span class="bg-slate-800 px-1.5 py-0.5 rounded text-[11px]">
                              <span class="text-slate-500" x-text="'$' + (gi + 1) + ':'"></span>
                              <span class="text-sky-400" x-text="g || '(empty)'"></span>
                            </span>
                          </template>
                        </div>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
            </template>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 3: QR CODE ENGINE
           ============================================================ -->
      <section
        x-show="activeTool === 'qr'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="qr-code" class="w-6 h-6 text-gold-500"></i>
            QR Code Engine
          </h2>
          <p class="text-sm text-slate-400 mt-1">Generate QR codes instantly and download as PNG</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
          <!-- Controls -->
          <div class="space-y-5">
            <div>
              <label class="block text-sm font-medium text-slate-300 mb-2">Data / URL</label>
              <textarea
                x-model="qrText"
                @input.debounce.300ms="generateQR()"
                class="textarea-valhalla h-28"
                placeholder="Enter text, URL, or any data..."
              ></textarea>
            </div>

            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Size</label>
                <span class="text-sm font-mono text-gold-400" x-text="qrSize + 'px'"></span>
              </div>
              <input
                type="range"
                x-model="qrSize"
                @input.debounce.200ms="generateQR()"
                min="100" max="500" step="10"
                class="slider-gold"
              >
              <div class="flex justify-between text-xs text-slate-600 mt-1">
                <span>100px</span>
                <span>500px</span>
              </div>
            </div>

            <div class="flex gap-3">
              <button @click="downloadQR()" class="btn-gold flex items-center gap-2">
                <i data-lucide="download" class="w-4 h-4"></i>
                Download PNG
              </button>
              <button @click="qrText = ''; generateQR()" class="btn-outline flex items-center gap-2">
                <i data-lucide="trash-2" class="w-4 h-4"></i>
                Clear
              </button>
            </div>
          </div>

          <!-- QR Preview -->
          <div class="flex flex-col items-center gap-4">
            <div class="glass rounded-xl p-6 w-full flex items-center justify-center min-h-[300px]">
              <div id="qr-preview" class="qr-container rounded-lg" :style="qrText ? 'padding: 1rem; background: white;' : 'background: transparent;'">
                <template x-if="!qrText">
                  <div class="text-slate-600 text-sm flex flex-col items-center gap-2">
                    <i data-lucide="qr-code" class="w-12 h-12 text-slate-700"></i>
                    <span>Enter data to generate QR code</span>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 4: JSON FORMATTER
           ============================================================ -->
      <section
        x-show="activeTool === 'json'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <div class="flex items-start justify-between flex-wrap gap-3">
            <div>
              <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                <i data-lucide="braces" class="w-6 h-6 text-gold-500"></i>
                JSON Formatter
              </h2>
              <p class="text-sm text-slate-400 mt-1">Beautify, minify, and validate JSON with instant feedback</p>
            </div>

            <!-- Validation Badge -->
            <div class="flex items-center gap-2">
              <template x-if="jsonValidation.valid === true">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  Valid JSON
                </div>
              </template>
              <template x-if="jsonValidation.valid === false">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="jsonValidation.error ? (jsonValidation.error.line ? 'Error at line ' + jsonValidation.error.line + ': ' : '') + jsonValidation.error.message : 'Invalid JSON'"></span>
                </div>
              </template>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-2 mb-4">
          <button @click="beautifyJson()" class="btn-gold flex items-center gap-1.5 text-sm">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            Beautify
          </button>
          <button @click="minifyJson()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="minimize-2" class="w-4 h-4"></i>
            Minify
          </button>
          <button @click="copyJson()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="copy" class="w-4 h-4"></i>
            Copy
          </button>
          <button @click="jsonInput = ''; jsonOutput = ''; jsonOutputHtml = ''; jsonValidation = { valid: null, error: null }; $nextTick(() => { syncJsonLineNumbers(); syncJsonOutputLineNumbers(); })" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
            Clear
          </button>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-4">
          <!-- Input -->
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="jsonGutter" class="json-gutter" x-text="getJsonLineNumbers()"></pre>
              <textarea
                x-ref="jsonInput"
                x-model="jsonInput"
                @input="syncJsonLineNumbers()"
                @input.debounce.300ms="validateJson()"
                @scroll="syncJsonLineNumbers()"
                class="textarea-valhalla code-input json-input h-[28rem]"
                placeholder='{"key": "value"}'
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <!-- Output -->
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Formatted Output</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="jsonOutputGutter" class="json-gutter" x-text="getJsonOutputLineNumbers()"></pre>
              <div x-ref="jsonOutputPane" @scroll="syncJsonOutputLineNumbers()" class="code-output json-output-pane h-[28rem] overflow-auto">
                <template x-if="!jsonOutputHtml">
                  <p class="text-slate-600 italic text-sm">Output appears after Beautify or Minify...</p>
                </template>
                <template x-if="jsonOutputHtml">
                  <pre class="m-0 bg-transparent"><code class="language-json" x-html="jsonOutputHtml"></code></pre>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 5: XML FORMATTER
           ============================================================ -->
      <section
        x-show="activeTool === 'xml'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <div class="flex items-start justify-between flex-wrap gap-3">
            <div>
              <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                <i data-lucide="file-code" class="w-6 h-6 text-gold-500"></i>
                XML Formatter
              </h2>
              <p class="text-sm text-slate-400 mt-1">Beautify, minify, and validate XML with instant feedback</p>
            </div>

            <div class="flex items-center gap-2">
              <template x-if="xmlValidation.valid === true">
                <div class="success-badge flex items-center gap-1.5">
                  <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                  Valid XML
                </div>
              </template>
              <template x-if="xmlValidation.valid === false">
                <div class="error-badge flex items-center gap-1.5">
                  <i data-lucide="alert-circle" class="w-3.5 h-3.5"></i>
                  <span x-text="xmlValidation.error ? (xmlValidation.error.line ? 'Error at line ' + xmlValidation.error.line + ': ' : '') + xmlValidation.error.message : 'Invalid XML'"></span>
                </div>
              </template>
            </div>
          </div>
        </div>

        <div class="flex flex-wrap gap-2 mb-4">
          <button @click="beautifyXml()" class="btn-gold flex items-center gap-1.5 text-sm">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            Beautify
          </button>
          <button @click="minifyXml()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="minimize-2" class="w-4 h-4"></i>
            Minify
          </button>
          <button @click="copyXml()" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="copy" class="w-4 h-4"></i>
            Copy
          </button>
          <button @click="xmlInput = ''; xmlOutput = ''; xmlOutputHtml = ''; xmlValidation = { valid: null, error: null }; $nextTick(() => { syncXmlLineNumbers(); syncXmlOutputLineNumbers(); })" class="btn-outline flex items-center gap-1.5 text-sm">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
            Clear
          </button>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="xmlGutter" class="json-gutter" x-text="getXmlLineNumbers()"></pre>
              <textarea
                x-ref="xmlInput"
                x-model="xmlInput"
                @input="syncXmlLineNumbers()"
                @input.debounce.300ms="validateXml()"
                @scroll="syncXmlLineNumbers()"
                class="textarea-valhalla code-input json-input h-[28rem]"
                placeholder='<root>\n  <item id="1">Odin</item>\n</root>'
                spellcheck="false"
              ></textarea>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Formatted Output</label>
            <div class="json-editor h-[28rem]">
              <pre x-ref="xmlOutputGutter" class="json-gutter" x-text="getXmlOutputLineNumbers()"></pre>
              <div x-ref="xmlOutputPane" @scroll="syncXmlOutputLineNumbers()" class="code-output json-output-pane h-[28rem] overflow-auto">
                <template x-if="!xmlOutputHtml">
                  <p class="text-slate-600 italic text-sm">Output appears after Beautify or Minify...</p>
                </template>
                <template x-if="xmlOutputHtml">
                  <pre class="m-0 bg-transparent"><code class="language-markup" x-html="xmlOutputHtml"></code></pre>
                </template>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 6: DIFF CHECKER
           ============================================================ -->
      <section
        x-show="activeTool === 'diff'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="git-compare" class="w-6 h-6 text-gold-500"></i>
            Diff Checker (JSON/XML)
          </h2>
          <p class="text-sm text-slate-400 mt-1">Bandingkan dua JSON atau XML secara real-time dan lihat perbedaannya</p>
        </div>

        <div class="flex items-center gap-2 mb-4">
          <button @click="setDiffMode('json')" :class="diffMode === 'json' ? 'btn-gold' : 'btn-outline'" class="text-sm px-3 py-1.5">JSON</button>
          <button @click="setDiffMode('xml')" :class="diffMode === 'xml' ? 'btn-gold' : 'btn-outline'" class="text-sm px-3 py-1.5">XML</button>
          <button @click="runDiffCheck()" class="btn-outline text-sm px-3 py-1.5 ml-2 flex items-center gap-1.5">
            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
            Compare
          </button>
          <button @click="diffLeftInput=''; diffRightInput=''; runDiffCheck()" class="btn-outline text-sm px-3 py-1.5 flex items-center gap-1.5">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
            Clear
          </button>
        </div>

        <template x-if="diffResult.error">
          <div class="error-badge mb-4" x-text="diffResult.error"></div>
        </template>

        <template x-if="!diffResult.error && diffLeftInput && diffRightInput">
          <div class="mb-4 flex items-center gap-3 text-sm">
            <span :class="diffResult.equal ? 'success-badge' : 'error-badge'" x-text="diffResult.equal ? 'No differences found' : 'Differences detected'"></span>
            <span class="text-slate-400">Added: <span class="text-green-400" x-text="diffResult.stats.added"></span></span>
            <span class="text-slate-400">Removed: <span class="text-red-400" x-text="diffResult.stats.removed"></span></span>
            <span class="text-slate-400">Changed: <span class="text-yellow-400" x-text="diffResult.stats.changed"></span></span>
          </div>
        </template>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-4 mb-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input A</label>
            <textarea
              x-model="diffLeftInput"
              @input.debounce.300ms="runDiffCheck()"
              class="textarea-valhalla code-input h-[18rem]"
              :placeholder="diffMode === 'json' ? '{\n  \"name\": \"Odin\"\n}' : '<root>\n  <name>Odin</name>\n</root>'"
              spellcheck="false"
            ></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Input B</label>
            <textarea
              x-model="diffRightInput"
              @input.debounce.300ms="runDiffCheck()"
              class="textarea-valhalla code-input h-[18rem]"
              :placeholder="diffMode === 'json' ? '{\n  \"name\": \"Thor\"\n}' : '<root>\n  <name>Thor</name>\n</root>'"
              spellcheck="false"
            ></textarea>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-300 mb-2">Differences</label>
          <div class="code-output h-[22rem] overflow-auto diff-output">
            <template x-if="!diffResult.html">
              <p class="text-slate-600 italic text-sm">Masukkan Input A dan Input B untuk melihat perbedaan...</p>
            </template>
            <template x-if="diffResult.html">
              <div x-html="diffResult.html"></div>
            </template>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 7: ODIN PASSWORD GUARD
           ============================================================ -->
      <section
        x-show="activeTool === 'password'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="shield-check" class="w-6 h-6 text-gold-500"></i>
            Odin Password Guard
          </h2>
          <p class="text-sm text-slate-400 mt-1">Cryptographically secure password generation with entropy analysis</p>
        </div>

        <div class="max-w-2xl space-y-6">
          <!-- Generated Password -->
          <div class="glass rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <div class="password-display flex-1" x-text="pwResult.password || 'Click Generate...'"></div>
              <button @click="copyPassword()" class="btn-gold flex-shrink-0 flex items-center gap-1.5 py-2.5" title="Copy password">
                <i data-lucide="copy" class="w-4 h-4"></i>
                Copy
              </button>
            </div>

            <!-- Entropy Bar -->
            <div class="space-y-2">
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">Entropy</span>
                <span :class="pwResult.strength.color" class="font-semibold" x-text="pwResult.strength.label + ' (' + pwResult.entropy + ' bits)'"></span>
              </div>
              <div class="entropy-bar-bg">
                <div
                  class="entropy-bar-fill"
                  :style="'width: ' + getEntropyWidth() + '; background: ' + getEntropyColor()"
                ></div>
              </div>
            </div>
          </div>

          <!-- Controls -->
          <div class="glass rounded-xl p-5 space-y-5">
            <!-- Length Slider -->
            <div>
              <div class="flex items-center justify-between mb-2">
                <label class="text-sm font-medium text-slate-300">Password Length</label>
                <span class="text-sm font-mono text-gold-400 bg-slate-800 px-2 py-0.5 rounded" x-text="pwLength"></span>
              </div>
              <input
                type="range"
                x-model="pwLength"
                @input="generatePassword()"
                min="4" max="128" step="1"
                class="slider-gold"
              >
              <div class="flex justify-between text-xs text-slate-600 mt-1">
                <span>4</span>
                <span>128</span>
              </div>
            </div>

            <!-- Character Toggles -->
            <div class="grid grid-cols-2 gap-3">
              <!-- Lowercase -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwLowercase = !pwLowercase; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Lowercase</div>
                  <div class="text-xs text-slate-500 font-mono">a-z</div>
                </div>
                <div class="toggle-track" :class="pwLowercase ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Uppercase -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwUppercase = !pwUppercase; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Uppercase</div>
                  <div class="text-xs text-slate-500 font-mono">A-Z</div>
                </div>
                <div class="toggle-track" :class="pwUppercase ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Numbers -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwNumbers = !pwNumbers; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Numbers</div>
                  <div class="text-xs text-slate-500 font-mono">0-9</div>
                </div>
                <div class="toggle-track" :class="pwNumbers ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>

              <!-- Symbols -->
              <label class="flex items-center justify-between glass rounded-lg px-3 py-2.5 cursor-pointer" @click.prevent="pwSymbols = !pwSymbols; generatePassword()">
                <div>
                  <div class="text-sm font-medium text-slate-200">Symbols</div>
                  <div class="text-xs text-slate-500 font-mono">!@#$%...</div>
                </div>
                <div class="toggle-track" :class="pwSymbols ? 'active' : ''">
                  <div class="toggle-thumb"></div>
                </div>
              </label>
            </div>

            <!-- Generate Button -->
            <button @click="generatePassword()" class="btn-gold w-full flex items-center justify-center gap-2 py-3 text-base">
              <i data-lucide="refresh-cw" class="w-5 h-5"></i>
              Generate New Password
            </button>
          </div>

          <!-- Stats -->
          <div class="grid grid-cols-3 gap-3">
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwResult.poolSize"></div>
              <div class="text-xs text-slate-500">Pool Size</div>
            </div>
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwLength"></div>
              <div class="text-xs text-slate-500">Length</div>
            </div>
            <div class="glass rounded-lg p-3 text-center">
              <div class="text-lg font-bold text-gold-400" x-text="pwResult.entropy + ' bits'"></div>
              <div class="text-xs text-slate-500">Entropy</div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================
           TOOL 8: MULTI-LANGUAGE MODEL GENERATOR
           ============================================================ -->
      <section
        x-show="activeTool === 'modelgen'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="file-code-2" class="w-6 h-6 text-gold-500"></i>
            Multi-Language Model Generator
          </h2>
          <p class="text-sm text-slate-400 mt-1">Convert JSON to C# classes, Go structs, Python dataclasses, and PHP DTOs</p>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-2 gap-6">
          <!-- JSON Input -->
          <div>
            <div class="flex items-center justify-between mb-2">
              <label class="text-sm font-medium text-slate-300">Input JSON</label>
              <button
                @click="modelJsonInput = JSON.stringify({id:1,name:'Odin',email:'odin@valhalla.com',created_at:'2024-01-15T10:30:00',is_active:true,score:98.5,address:{street:'Bifrost Bridge',city:'Asgard',zip_code:'00001'},tags:['developer','toolkit'],items:[{product_name:'Mjolnir',price:999.99,quantity:1}]}, null, 2); generateModels()"
                class="btn-outline text-xs py-1 px-2"
              >
                Load Example
              </button>
            </div>
            <textarea
              x-model="modelJsonInput"
              @input.debounce.400ms="generateModels()"
              class="textarea-valhalla code-input h-[26rem]"
              placeholder='Paste your JSON here...

Example:
{
  "id": 1,
  "name": "Odin",
  "is_active": true
}'
              spellcheck="false"
            ></textarea>

            <!-- Generator Options -->
            <div class="mt-3 glass rounded-lg p-3 space-y-2">
              <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Generator Options</p>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="csUseJsonPropertyName = !csUseJsonPropertyName; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="csUseJsonPropertyName ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">C#</span> Use <code class="text-gold-400 text-xs">[JsonPropertyName]</code> <span class="text-slate-500 text-xs">(System.Text.Json)</span></span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="csUseNullable = !csUseNullable; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="csUseNullable ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">C#</span> Nullable reference types <span class="text-slate-500 text-xs">(e.g. string?)</span></span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="goUseOmitEmpty = !goUseOmitEmpty; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="goUseOmitEmpty ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">Go</span> Add <code class="text-gold-400 text-xs">omitempty</code> to JSON tags</span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="goUsePointers = !goUsePointers; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="goUsePointers ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">Go</span> Use pointers for nullable fields</span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="pyUseOptional = !pyUseOptional; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="pyUseOptional ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">Python</span> Use <code class="text-gold-400 text-xs">Optional[...]</code> for nullable fields</span>
              </label>
              <label class="flex items-center gap-2.5 cursor-pointer" @click.prevent="phpUseReadonly = !phpUseReadonly; generateModels()">
                <div class="toggle-track flex-shrink-0" :class="phpUseReadonly ? 'active' : ''" style="width:36px;height:20px">
                  <div class="toggle-thumb" style="width:16px;height:16px"></div>
                </div>
                <span class="text-sm text-slate-300"><span class="text-gold-400 text-xs">PHP</span> Generate <code class="text-gold-400 text-xs">readonly</code> class</span>
              </label>
            </div>
          </div>

          <!-- Output -->
          <div>
            <!-- Language Tabs -->
            <div class="flex items-center border-b border-slate-800 mb-0">
              <button
                @click="modelActiveTab = 'csharp'"
                :class="modelActiveTab === 'csharp' ? 'active' : ''"
                class="tab-btn"
              >C#</button>
              <button
                @click="modelActiveTab = 'go'"
                :class="modelActiveTab === 'go' ? 'active' : ''"
                class="tab-btn"
              >Go</button>
              <button
                @click="modelActiveTab = 'python'"
                :class="modelActiveTab === 'python' ? 'active' : ''"
                class="tab-btn"
              >Python</button>
              <button
                @click="modelActiveTab = 'php'"
                :class="modelActiveTab === 'php' ? 'active' : ''"
                class="tab-btn"
              >PHP</button>

              <!-- Copy Button -->
              <button @click="copyModelOutput()" class="ml-auto btn-outline text-xs py-1 px-2.5 flex items-center gap-1">
                <i data-lucide="copy" class="w-3 h-3"></i>
                Copy
              </button>
            </div>

            <!-- C# Output -->
            <div x-show="modelActiveTab === 'csharp'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.csharp"><p class="text-slate-600 italic text-sm">Generated C# code will appear here...</p></template>
              <template x-if="modelOutputHtml.csharp"><pre class="m-0 bg-transparent"><code class="language-csharp" x-html="modelOutputHtml.csharp"></code></pre></template>
            </div>

            <!-- Go Output -->
            <div x-show="modelActiveTab === 'go'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.go"><p class="text-slate-600 italic text-sm">Generated Go code will appear here...</p></template>
              <template x-if="modelOutputHtml.go"><pre class="m-0 bg-transparent"><code class="language-go" x-html="modelOutputHtml.go"></code></pre></template>
            </div>

            <!-- Python Output -->
            <div x-show="modelActiveTab === 'python'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.python"><p class="text-slate-600 italic text-sm">Generated Python code will appear here...</p></template>
              <template x-if="modelOutputHtml.python"><pre class="m-0 bg-transparent"><code class="language-python" x-html="modelOutputHtml.python"></code></pre></template>
            </div>

            <!-- PHP Output -->
            <div x-show="modelActiveTab === 'php'" class="code-output h-[32rem] overflow-auto rounded-t-none">
              <template x-if="!modelOutputHtml.php"><p class="text-slate-600 italic text-sm">Generated PHP code will appear here...</p></template>
              <template x-if="modelOutputHtml.php"><pre class="m-0 bg-transparent"><code class="language-php" x-html="modelOutputHtml.php"></code></pre></template>
            </div>
          </div>
        </div>
      </section>


      <!-- ============================================================
           TOOL 9: JWT EXPLORER
           ============================================================ -->
      <section
        x-show="activeTool === 'jwt'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="key" class="w-6 h-6 text-gold-500"></i>
            JWT Explorer
          </h2>
          <p class="text-sm text-slate-400 mt-1">Local-only JWT decoder &mdash; nothing leaves your browser</p>
        </div>

        <!-- JWT Input -->
        <div class="mb-6">
          <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Paste JWT Token</label>
          <textarea
            x-model="jwtInput"
            @input.debounce.300ms="decodeJWT()"
            class="textarea-valhalla w-full h-28 font-mono text-sm"
            placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            spellcheck="false"
          ></textarea>
        </div>

        <!-- Error -->
        <template x-if="jwtError">
          <div class="mb-4 px-4 py-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm">
            <i data-lucide="alert-triangle" class="w-4 h-4 inline-block mr-1"></i>
            <span x-text="jwtError"></span>
          </div>
        </template>

        <!-- Expiry Badge -->
        <template x-if="jwtPayload && jwtExpired !== null">
          <div class="mb-4">
            <span
              :class="jwtExpired ? 'bg-red-500/20 text-red-400 border-red-500/30' : 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30'"
              class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold border"
            >
              <i :data-lucide="jwtExpired ? 'clock-alert' : 'check-circle'" class="w-3.5 h-3.5"></i>
              <span x-text="jwtExpired ? 'Token Expired' : 'Token Valid (not expired)'"></span>
            </span>
          </div>
        </template>

        <!-- Decoded Panels -->
        <template x-if="jwtHeader">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
            <!-- Header Panel -->
            <div class="jwt-panel jwt-header-panel">
              <div class="jwt-panel-label">
                <i data-lucide="file-json" class="w-4 h-4"></i> Header
              </div>
              <pre class="m-0 bg-transparent text-sm overflow-auto max-h-64"><code class="language-json" x-html="jwtHighlight(jwtHeader)"></code></pre>
            </div>

            <!-- Payload Panel -->
            <div class="jwt-panel jwt-payload-panel">
              <div class="jwt-panel-label">
                <i data-lucide="database" class="w-4 h-4"></i> Payload
              </div>
              <pre class="m-0 bg-transparent text-sm overflow-auto max-h-64"><code class="language-json" x-html="jwtHighlight(jwtPayload)"></code></pre>

              <!-- Standard Claims -->
              <template x-if="jwtPayload">
                <div class="mt-3 pt-3 border-t border-slate-700/50 space-y-1">
                  <template x-for="(val, key) in jwtPayload" :key="key">
                    <template x-if="['iss','sub','aud','exp','iat','nbf','jti'].includes(key)">
                      <div class="flex items-center gap-2 text-xs">
                        <span class="text-gold-400 font-mono font-semibold" x-text="key"></span>
                        <span class="text-slate-500" x-text="jwtFormatClaim(key, val)"></span>
                      </div>
                    </template>
                  </template>
                </div>
              </template>
            </div>
          </div>
        </template>

        <!-- Signature Panel -->
        <template x-if="jwtSignature">
          <div class="jwt-panel jwt-signature-panel">
            <div class="jwt-panel-label">
              <i data-lucide="fingerprint" class="w-4 h-4"></i> Signature (hex)
            </div>
            <div class="font-mono text-xs text-slate-400 break-all leading-relaxed" x-text="jwtSignature"></div>
          </div>
        </template>
      </section>


      <!-- ============================================================
           TOOL 10: IMAGE SHRINK
           ============================================================ -->
      <section
        x-show="activeTool === 'imgshrink'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="image-down" class="w-6 h-6 text-gold-500"></i>
            Image Shrink
          </h2>
          <p class="text-sm text-slate-400 mt-1">Resize &amp; compress images locally using Canvas API &mdash; no uploads</p>
        </div>

        <!-- Drop Zone -->
        <div
          x-show="!imgFile"
          @dragover.prevent="imgDragover = true"
          @dragleave.prevent="imgDragover = false"
          @drop.prevent="imgHandleDrop($event)"
          @click="$refs.imgFileInput.click()"
          :class="imgDragover ? 'img-dropzone-active' : ''"
          class="img-dropzone cursor-pointer"
        >
          <i data-lucide="upload-cloud" class="w-12 h-12 text-slate-600 mb-3"></i>
          <p class="text-slate-400 text-sm font-medium">Drop an image here or click to browse</p>
          <p class="text-slate-600 text-xs mt-1">Supports JPEG, PNG, WebP, GIF, SVG</p>
          <input type="file" accept="image/*" x-ref="imgFileInput" @change="imgHandleFile($event)" class="hidden">
        </div>

        <!-- Controls (visible when file loaded) -->
        <template x-if="imgFile">
          <div class="space-y-5">
            <!-- Preview + Info -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <img :src="imgPreviewUrl" class="img-preview rounded-lg border border-slate-700/50" alt="Preview">
              </div>
              <div class="space-y-3">
                <div class="text-sm">
                  <span class="text-slate-500">File:</span>
                  <span class="text-white font-medium ml-1" x-text="imgFileName"></span>
                </div>
                <div class="text-sm">
                  <span class="text-slate-500">Original size:</span>
                  <span class="text-white font-medium ml-1" x-text="Odin.ImageShrink.fileSizeLabel(imgOriginalSize)"></span>
                </div>
                <div class="text-sm">
                  <span class="text-slate-500">Dimensions:</span>
                  <span class="text-white font-medium ml-1" x-text="imgWidth + ' × ' + imgHeight + ' px'"></span>
                </div>
                <div class="text-sm">
                  <span class="text-slate-500">New dimensions:</span>
                  <span class="text-gold-400 font-semibold ml-1" x-text="imgNewWidth + ' × ' + imgNewHeight + ' px'"></span>
                </div>
              </div>
            </div>

            <!-- Scale Slider -->
            <div>
              <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">
                Scale: <span class="text-gold-400 font-semibold" x-text="imgScale + '%'"></span>
              </label>
              <input
                type="range" min="1" max="100" step="1"
                x-model.number="imgScale"
                @input="imgUpdateDimensions()"
                class="slider-gold w-full"
              >
            </div>

            <!-- Format + Quality -->
            <div class="flex flex-wrap items-end gap-4">
              <div>
                <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Format</label>
                <div class="flex gap-1">
                  <button
                    @click="imgFormat = 'image/webp'"
                    :class="imgFormat === 'image/webp' ? 'active' : ''"
                    class="tab-btn px-3 py-1.5 text-xs rounded-lg"
                  >WebP</button>
                  <button
                    @click="imgFormat = 'image/png'"
                    :class="imgFormat === 'image/png' ? 'active' : ''"
                    class="tab-btn px-3 py-1.5 text-xs rounded-lg"
                  >PNG</button>
                </div>
              </div>
              <div x-show="imgFormat === 'image/webp'" class="flex-1 min-w-[180px]">
                <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">
                  Quality: <span class="text-gold-400 font-semibold" x-text="Math.round(imgQuality * 100) + '%'"></span>
                </label>
                <input
                  type="range" min="0.1" max="1" step="0.05"
                  x-model.number="imgQuality"
                  class="slider-gold w-full"
                >
              </div>
            </div>

            <!-- Actions -->
            <div class="flex flex-wrap items-center gap-3">
              <button
                @click="imgProcess()"
                class="btn-gold px-5 py-2 rounded-lg text-sm font-semibold flex items-center gap-2"
                :disabled="imgProcessing"
              >
                <i data-lucide="zap" class="w-4 h-4"></i>
                <span x-text="imgProcessing ? 'Processing...' : 'Shrink Image'"></span>
              </button>
              <button
                x-show="imgResultUrl"
                @click="imgDownload()"
                class="btn-outline px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2"
              >
                <i data-lucide="download" class="w-4 h-4"></i>
                Download
              </button>
              <button
                @click="imgReset()"
                class="px-3 py-2 text-sm text-slate-500 hover:text-slate-300 transition-colors"
              >Reset</button>
            </div>

            <!-- Result -->
            <template x-if="imgResultUrl">
              <div class="glass rounded-xl p-4">
                <div class="flex items-center gap-3 text-sm">
                  <span class="text-slate-500">Output:</span>
                  <span class="text-white font-medium" x-text="Odin.ImageShrink.fileSizeLabel(imgResultSize)"></span>
                  <span class="text-slate-600">|</span>
                  <span
                    :class="imgResultSize < imgOriginalSize ? 'text-emerald-400' : 'text-red-400'"
                    class="font-semibold"
                    x-text="(imgResultSize < imgOriginalSize ? '↓ ' : '↑ ') + Math.abs(Math.round((1 - imgResultSize / imgOriginalSize) * 100)) + '% ' + (imgResultSize < imgOriginalSize ? 'smaller' : 'larger')"
                  ></span>
                </div>
              </div>
            </template>
          </div>
        </template>
      </section>


      <!-- ============================================================
           TOOL 11: CASE CONVERTER
           ============================================================ -->
      <section
        x-show="activeTool === 'caseconv'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="case-sensitive" class="w-6 h-6 text-gold-500"></i>
            Case Converter
          </h2>
          <p class="text-sm text-slate-400 mt-1">Transform text between UPPERCASE, lowercase, camelCase, PascalCase, snake_case &amp; more</p>
        </div>

        <!-- Mode Selector -->
        <div class="mb-4">
          <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Conversion Mode</label>
          <div class="flex flex-wrap gap-1.5">
            <template x-for="m in [
              {key:'upper', label:'UPPER'},
              {key:'lower', label:'lower'},
              {key:'camel', label:'camelCase'},
              {key:'pascal', label:'PascalCase'},
              {key:'snake', label:'snake_case'},
              {key:'kebab', label:'kebab-case'},
              {key:'title', label:'Title Case'}
            ]" :key="m.key">
              <button
                @click="setCaseMode(m.key)"
                :class="caseMode === m.key ? 'active' : ''"
                class="tab-btn px-3 py-1.5 text-xs rounded-lg font-mono"
                x-text="m.label"
              ></button>
            </template>
          </div>
        </div>

        <!-- Input -->
        <div class="mb-4">
          <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Input Text</label>
          <textarea
            x-model="caseInput"
            @input.debounce.200ms="convertCase()"
            class="textarea-valhalla w-full h-36 font-mono text-sm"
            placeholder="Type or paste your text here..."
            spellcheck="false"
          ></textarea>
        </div>

        <!-- Output -->
        <div class="mb-4">
          <div class="flex items-center justify-between mb-1.5">
            <label class="block text-xs text-slate-500 uppercase tracking-wider">Output</label>
            <button
              @click="copyCaseOutput()"
              x-show="caseOutput"
              class="text-xs text-slate-500 hover:text-gold-400 transition-colors flex items-center gap-1"
            >
              <i data-lucide="copy" class="w-3 h-3"></i> Copy
            </button>
          </div>
          <textarea
            x-model="caseOutput"
            readonly
            class="textarea-valhalla w-full h-36 font-mono text-sm bg-slate-900/50"
            placeholder="Converted text will appear here..."
          ></textarea>
        </div>
      </section>


      <!-- ============================================================
           TOOL 12: FLEXBOX / GRID INTERACTIVE PLAYGROUND
           ============================================================ -->
      <section
        x-show="activeTool === 'flexgrid'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
        x-init="$watch('flexGridMode', () => fgUpdateCSS()); $watch('fgFlexDirection', () => fgUpdateCSS()); $watch('fgJustifyContent', () => fgUpdateCSS()); $watch('fgAlignItems', () => fgUpdateCSS()); $watch('fgFlexWrap', () => fgUpdateCSS()); $watch('fgGap', () => fgUpdateCSS()); $watch('fgGridGap', () => fgUpdateCSS()); $watch('fgGridJustifyItems', () => fgUpdateCSS()); $watch('fgGridAlignItems', () => fgUpdateCSS()); $watch('fgItemCount', () => fgUpdateCSS());"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="layout-grid" class="w-6 h-6 text-gold-500"></i>
            Flex/Grid Lab
          </h2>
          <p class="text-sm text-slate-400 mt-1">Visual playground to experiment with CSS Flexbox &amp; Grid properties</p>
        </div>

        <!-- Mode Tabs -->
        <div class="flex gap-1.5 mb-5">
          <button
            @click="flexGridMode = 'flex'"
            :class="flexGridMode === 'flex' ? 'active' : ''"
            class="tab-btn px-4 py-2 text-sm rounded-lg font-semibold"
          >Flexbox</button>
          <button
            @click="flexGridMode = 'grid'"
            :class="flexGridMode === 'grid' ? 'active' : ''"
            class="tab-btn px-4 py-2 text-sm rounded-lg font-semibold"
          >Grid</button>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-5">
          <!-- Controls Panel -->
          <div class="lg:col-span-1 space-y-4">
            <!-- Flexbox Controls -->
            <div x-show="flexGridMode === 'flex'" class="space-y-3">
              <div>
                <label class="fg-label">flex-direction</label>
                <select x-model="fgFlexDirection" class="input-valhalla w-full text-sm">
                  <option value="row">row</option>
                  <option value="row-reverse">row-reverse</option>
                  <option value="column">column</option>
                  <option value="column-reverse">column-reverse</option>
                </select>
              </div>
              <div>
                <label class="fg-label">justify-content</label>
                <select x-model="fgJustifyContent" class="input-valhalla w-full text-sm">
                  <option value="flex-start">flex-start</option>
                  <option value="flex-end">flex-end</option>
                  <option value="center">center</option>
                  <option value="space-between">space-between</option>
                  <option value="space-around">space-around</option>
                  <option value="space-evenly">space-evenly</option>
                </select>
              </div>
              <div>
                <label class="fg-label">align-items</label>
                <select x-model="fgAlignItems" class="input-valhalla w-full text-sm">
                  <option value="stretch">stretch</option>
                  <option value="flex-start">flex-start</option>
                  <option value="flex-end">flex-end</option>
                  <option value="center">center</option>
                  <option value="baseline">baseline</option>
                </select>
              </div>
              <div>
                <label class="fg-label">flex-wrap</label>
                <select x-model="fgFlexWrap" class="input-valhalla w-full text-sm">
                  <option value="nowrap">nowrap</option>
                  <option value="wrap">wrap</option>
                  <option value="wrap-reverse">wrap-reverse</option>
                </select>
              </div>
              <div>
                <label class="fg-label">gap: <span class="text-gold-400" x-text="fgGap + 'px'"></span></label>
                <input type="range" min="0" max="40" step="2" x-model="fgGap" class="slider-gold w-full">
              </div>
            </div>

            <!-- Grid Controls -->
            <div x-show="flexGridMode === 'grid'" class="space-y-3">
              <div>
                <label class="fg-label">grid-template-columns</label>
                <input type="text" x-model="fgGridCols" @input.debounce.300ms="fgUpdateCSS()" class="input-valhalla w-full text-sm font-mono" placeholder="1fr 1fr 1fr">
              </div>
              <div>
                <label class="fg-label">grid-template-rows</label>
                <input type="text" x-model="fgGridRows" @input.debounce.300ms="fgUpdateCSS()" class="input-valhalla w-full text-sm font-mono" placeholder="auto">
              </div>
              <div>
                <label class="fg-label">justify-items</label>
                <select x-model="fgGridJustifyItems" class="input-valhalla w-full text-sm">
                  <option value="stretch">stretch</option>
                  <option value="start">start</option>
                  <option value="end">end</option>
                  <option value="center">center</option>
                </select>
              </div>
              <div>
                <label class="fg-label">align-items</label>
                <select x-model="fgGridAlignItems" class="input-valhalla w-full text-sm">
                  <option value="stretch">stretch</option>
                  <option value="start">start</option>
                  <option value="end">end</option>
                  <option value="center">center</option>
                </select>
              </div>
              <div>
                <label class="fg-label">gap: <span class="text-gold-400" x-text="fgGridGap + 'px'"></span></label>
                <input type="range" min="0" max="40" step="2" x-model="fgGridGap" class="slider-gold w-full">
              </div>
            </div>

            <!-- Item Count (shared) -->
            <div>
              <label class="fg-label">Items: <span class="text-gold-400" x-text="fgItemCount"></span></label>
              <div class="flex items-center gap-2">
                <button @click="fgRemoveItem()" class="btn-outline w-8 h-8 rounded-lg text-sm flex items-center justify-center">−</button>
                <div class="flex-1 h-1 rounded bg-slate-700"></div>
                <button @click="fgAddItem()" class="btn-outline w-8 h-8 rounded-lg text-sm flex items-center justify-center">+</button>
              </div>
            </div>
          </div>

          <!-- Live Preview -->
          <div class="lg:col-span-2 space-y-4">
            <div class="fg-preview-container" :style="fgGetPreviewStyle()">
              <template x-for="i in fgItemCount" :key="i">
                <div class="fg-preview-item" x-text="i"></div>
              </template>
            </div>

            <!-- Generated CSS -->
            <div>
              <div class="flex items-center justify-between mb-1.5">
                <label class="block text-xs text-slate-500 uppercase tracking-wider">Generated CSS</label>
                <button
                  @click="fgCopyCSS()"
                  x-show="fgGeneratedCSS"
                  class="text-xs text-slate-500 hover:text-gold-400 transition-colors flex items-center gap-1"
                >
                  <i data-lucide="copy" class="w-3 h-3"></i> Copy
                </button>
              </div>
              <pre class="code-output rounded-lg overflow-auto p-4 text-sm font-mono" x-text="fgGeneratedCSS"></pre>
            </div>
          </div>
        </div>
      </section>


      <!-- ============================================================
           TOOL 13: BASE64 ENCODER / DECODER
           ============================================================ -->
      <section
        x-show="activeTool === 'base64'"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-2"
        x-transition:enter-end="opacity-100 translate-y-0"
        class="tool-panel"
      >
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <i data-lucide="binary" class="w-6 h-6 text-gold-500"></i>
            Base64 Codec
          </h2>
          <p class="text-sm text-slate-400 mt-1">Encode &amp; decode text or files to Base64 strings &mdash; fully offline</p>
        </div>

        <!-- Mode Tabs -->
        <div class="flex flex-wrap items-center gap-3 mb-5">
          <div class="flex gap-1.5">
            <button
              @click="b64SwitchMode('encode')"
              :class="b64Mode === 'encode' ? 'active' : ''"
              class="tab-btn px-4 py-2 text-sm rounded-lg font-semibold"
            >Encode</button>
            <button
              @click="b64SwitchMode('decode')"
              :class="b64Mode === 'decode' ? 'active' : ''"
              class="tab-btn px-4 py-2 text-sm rounded-lg font-semibold"
            >Decode</button>
          </div>

          <!-- File Mode Toggle -->
          <label class="flex items-center gap-2 text-sm text-slate-400 cursor-pointer ml-2" @click.prevent="b64FileMode = !b64FileMode">
            <div class="toggle-track" :class="b64FileMode ? 'active' : ''">
              <div class="toggle-thumb"></div>
            </div>
            File mode
          </label>
        </div>

        <!-- Text Mode -->
        <div x-show="!b64FileMode" class="space-y-4">
          <div>
            <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5" x-text="b64Mode === 'encode' ? 'Plain Text' : 'Base64 String'"></label>
            <textarea
              x-model="b64Input"
              @input.debounce.300ms="b64Convert()"
              class="textarea-valhalla w-full h-36 font-mono text-sm"
              :placeholder="b64Mode === 'encode' ? 'Enter text to encode...' : 'Paste Base64 string to decode...'"
              spellcheck="false"
            ></textarea>
          </div>

          <div>
            <div class="flex items-center justify-between mb-1.5">
              <label class="block text-xs text-slate-500 uppercase tracking-wider" x-text="b64Mode === 'encode' ? 'Base64 Output' : 'Decoded Text'"></label>
              <button
                @click="b64CopyOutput()"
                x-show="b64Output"
                class="text-xs text-slate-500 hover:text-gold-400 transition-colors flex items-center gap-1"
              >
                <i data-lucide="copy" class="w-3 h-3"></i> Copy
              </button>
            </div>
            <textarea
              x-model="b64Output"
              readonly
              class="textarea-valhalla w-full h-36 font-mono text-sm bg-slate-900/50"
              placeholder="Output will appear here..."
            ></textarea>
          </div>

          <!-- Decode to File button -->
          <template x-if="b64Mode === 'decode' && b64Input.trim()">
            <button
              @click="b64DownloadDecoded()"
              class="btn-outline px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2"
            >
              <i data-lucide="download" class="w-4 h-4"></i>
              Download as File
            </button>
          </template>
        </div>

        <!-- File Mode -->
        <div x-show="b64FileMode" class="space-y-4">
          <!-- Encode File -->
          <div x-show="b64Mode === 'encode'">
            <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Select File to Encode</label>
            <div class="flex items-center gap-3">
              <label class="btn-outline px-4 py-2 rounded-lg text-sm font-semibold cursor-pointer flex items-center gap-2">
                <i data-lucide="file-up" class="w-4 h-4"></i>
                Choose File
                <input type="file" @change="b64HandleFile($event)" class="hidden">
              </label>
              <span class="text-sm text-slate-400" x-text="b64FileName || 'No file selected'"></span>
            </div>

            <template x-if="b64FileResult">
              <div class="mt-4">
                <div class="flex items-center justify-between mb-1.5">
                  <label class="block text-xs text-slate-500 uppercase tracking-wider">Base64 Output</label>
                  <button
                    @click="b64CopyOutput()"
                    class="text-xs text-slate-500 hover:text-gold-400 transition-colors flex items-center gap-1"
                  >
                    <i data-lucide="copy" class="w-3 h-3"></i> Copy
                  </button>
                </div>
                <div class="code-output rounded-lg overflow-auto p-3 max-h-48 font-mono text-xs break-all" x-text="b64FileResult"></div>
              </div>
            </template>
          </div>

          <!-- Decode File -->
          <div x-show="b64Mode === 'decode'">
            <label class="block text-xs text-slate-500 uppercase tracking-wider mb-1.5">Paste Base64 String</label>
            <textarea
              x-model="b64Input"
              class="textarea-valhalla w-full h-36 font-mono text-sm"
              placeholder="Paste Base64-encoded file data here..."
              spellcheck="false"
            ></textarea>

            <div class="mt-3 flex flex-wrap items-center gap-3">
              <button
                @click="b64DownloadDecoded()"
                class="btn-gold px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2"
                :disabled="!b64Input.trim()"
              >
                <i data-lucide="download" class="w-4 h-4"></i>
                Decode &amp; Download
              </button>
              <template x-if="b64DetectedMime">
                <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-mono bg-sky-500/15 text-sky-400 border border-sky-500/30" x-text="b64DetectedMime"></span>
              </template>
            </div>
          </div>
        </div>
      </section>



    </div>
  </main>

  <!-- ============================================================
       ACTUAL-INPUT MODAL (Pomodoro Session Log)
       ============================================================ -->
  <div
    x-show="pomoShowActualPrompt"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="pomo-actual-overlay"
    @keydown.escape.window="if(pomoShowActualPrompt) pomoSkipActual()"
  >
    <div
      class="pomo-actual-modal"
      x-show="pomoShowActualPrompt"
      x-transition:enter="transition ease-out duration-200 delay-75"
      x-transition:enter-start="opacity-0 scale-95 translate-y-4"
      x-transition:enter-end="opacity-100 scale-100 translate-y-0"
      @click.outside="pomoSkipActual()"
    >
      <div class="flex items-center gap-2 mb-1">
        <i data-lucide="party-popper" class="w-5 h-5 text-gold-500"></i>
        <h3 class="text-lg font-bold text-white">Session Complete!</h3>
      </div>
      <p class="text-sm text-slate-400 mb-4">What did you actually accomplish?</p>

      <!-- Show the plan -->
      <div class="mb-3" x-show="pomoTodoText.trim()">
        <span class="text-[10px] text-slate-600 uppercase">Your Plan</span>
        <p class="text-sm text-slate-300 mt-0.5" x-text="pomoTodoText"></p>
      </div>

      <label for="pomo-actual-input" class="text-[11px] text-slate-500 uppercase tracking-wider mb-1.5 block">Actual Result</label>
      <input
        id="pomo-actual-input"
        type="text"
        x-model="pomoActualText"
        class="pomo-session-input w-full mb-4"
        placeholder="Describe what you accomplished..."
        maxlength="300"
        @keydown.enter="pomoSubmitActual()"
        x-init="$nextTick(() => $el.focus())"
      >

      <div class="flex items-center gap-2 justify-end">
        <button
          @click="pomoSkipActual()"
          class="px-3 py-1.5 text-xs text-slate-500 hover:text-slate-300 transition-colors"
        >Skip</button>
        <button
          @click="pomoSubmitActual()"
          class="btn-gold px-4 py-1.5 rounded-lg text-sm font-semibold"
        >Save Session</button>
      </div>
    </div>
  </div>

  <!-- ============================================================
       TOAST NOTIFICATION
       ============================================================ -->
  <div class="toast-container">
    <div
      x-show="toast.visible"
      x-transition:enter="transition ease-out duration-300"
      x-transition:enter-start="opacity-0 translate-y-2 scale-95"
      x-transition:enter-end="opacity-100 translate-y-0 scale-100"
      x-transition:leave="transition ease-in duration-200"
      x-transition:leave-start="opacity-100 translate-y-0 scale-100"
      x-transition:leave-end="opacity-0 translate-y-2 scale-95"
      class="toast"
    >
      <i data-lucide="check" class="w-4 h-4"></i>
      <span x-text="toast.message"></span>
    </div>
  </div>

  <!-- ============================================================
       SCRIPTS
       ============================================================ -->
  <!-- QR Code Library -->
  <script src="vendor/qrcode.min.js"></script>

  <!-- Prism.js (Syntax Highlighting) -->
  <script src="vendor/prism.js" data-manual></script>
  <script src="vendor/prism-json.min.js"></script>
  <script src="vendor/prism-csharp.min.js"></script>
  <script src="vendor/prism-go.min.js"></script>
  <script src="vendor/prism-python.min.js"></script>
  <script src="vendor/prism-php.min.js"></script>

  <!-- Lucide Icons -->
  <script src="vendor/lucide.min.js"></script>

  <!-- Odin Core Logic -->
  <script src="js/odin.js"></script>

  <!-- Alpine.js (must be last) -->
  <script defer src="vendor/alpine.min.js"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('⚡ Odin SW registered:', reg.scope))
          .catch(err => console.warn('SW registration failed:', err));
      });
    }
  </script>
</body>
</html>
